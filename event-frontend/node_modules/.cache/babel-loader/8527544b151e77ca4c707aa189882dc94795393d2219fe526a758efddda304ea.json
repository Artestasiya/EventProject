{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import'./EventDetailPage.css';import backgroundImage from'../images/background.jpg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EventDetailPage=()=>{const{eventId}=useParams();const[event,setEvent]=useState(null);const[isLoading,setIsLoading]=useState(true);const[serverError,setServerError]=useState('');useEffect(()=>{const fetchEvent=async()=>{try{const response=await fetch(\"http://localhost:5000/api/events/\".concat(eventId));const data=await response.json();if(response.ok){setEvent(data);}else{setServerError(data.message||'Error fetching event details');}}catch(error){console.error('Error fetching event:',error);setServerError('Server error. Please try again later.');}finally{setIsLoading(false);}};fetchEvent();},[eventId]);const handleRegisterClick=()=>{alert('You have registered for the event!');};if(isLoading){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading event details...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"event-detail-container\",children:[serverError&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:serverError}),event?/*#__PURE__*/_jsxs(\"div\",{className:\"event-detail\",children:[/*#__PURE__*/_jsx(\"img\",{src:event.image,alt:event.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:event.name}),/*#__PURE__*/_jsx(\"p\",{children:event.description}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date: \",new Date(event.date).toLocaleDateString()]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegisterClick,children:\"Register for Event\"})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Event not found\"})]});};export default EventDetailPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","backgroundImage","jsx","_jsx","jsxs","_jsxs","EventDetailPage","eventId","event","setEvent","isLoading","setIsLoading","serverError","setServerError","fetchEvent","response","fetch","concat","data","json","ok","message","error","console","handleRegisterClick","alert","children","className","src","image","alt","name","description","Date","date","toLocaleDateString","onClick"],"sources":["D:/Work/event-frontend/src/pages/EventDetailPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport './EventDetailPage.css';\r\nimport backgroundImage from '../images/background.jpg';\r\n\r\nconst EventDetailPage = () => {\r\n    const { eventId } = useParams();\r\n    const [event, setEvent] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [serverError, setServerError] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchEvent = async () => {\r\n            try {\r\n                const response = await fetch(`http://localhost:5000/api/events/${eventId}`);\r\n                const data = await response.json();\r\n                if (response.ok) {\r\n                    setEvent(data);\r\n                } else {\r\n                    setServerError(data.message || 'Error fetching event details');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching event:', error);\r\n                setServerError('Server error. Please try again later.');\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchEvent();\r\n    }, [eventId]);\r\n\r\n    const handleRegisterClick = () => {\r\n        alert('You have registered for the event!');\r\n    };\r\n\r\n    if (isLoading) {\r\n        return <p>Loading event details...</p>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"event-detail-container\">\r\n            {serverError && <p className=\"error\">{serverError}</p>}\r\n\r\n            {event ? (\r\n                <div className=\"event-detail\">\r\n                    <img src={event.image} alt={event.name} />\r\n                    <div className=\"event-info\">\r\n                        <h1>{event.name}</h1>\r\n                        <p>{event.description}</p>\r\n                        <p>Date: {new Date(event.date).toLocaleDateString()}</p>\r\n                        <button onClick={handleRegisterClick}>Register for Event</button>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <p>Event not found</p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EventDetailPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,uBAAuB,CAC9B,MAAO,CAAAC,eAAe,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvD,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAEC,OAAQ,CAAC,CAAGP,SAAS,CAAC,CAAC,CAC/B,KAAM,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACc,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAElDC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAe,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,qCAAAC,MAAA,CAAqCV,OAAO,CAAE,CAAC,CAC3E,KAAM,CAAAW,IAAI,CAAG,KAAM,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClC,GAAIJ,QAAQ,CAACK,EAAE,CAAE,CACbX,QAAQ,CAACS,IAAI,CAAC,CAClB,CAAC,IAAM,CACHL,cAAc,CAACK,IAAI,CAACG,OAAO,EAAI,8BAA8B,CAAC,CAClE,CACJ,CAAE,MAAOC,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CT,cAAc,CAAC,uCAAuC,CAAC,CAC3D,CAAC,OAAS,CACNF,YAAY,CAAC,KAAK,CAAC,CACvB,CACJ,CAAC,CAEDG,UAAU,CAAC,CAAC,CAChB,CAAC,CAAE,CAACP,OAAO,CAAC,CAAC,CAEb,KAAM,CAAAiB,mBAAmB,CAAGA,CAAA,GAAM,CAC9BC,KAAK,CAAC,oCAAoC,CAAC,CAC/C,CAAC,CAED,GAAIf,SAAS,CAAE,CACX,mBAAOP,IAAA,MAAAuB,QAAA,CAAG,0BAAwB,CAAG,CAAC,CAC1C,CAEA,mBACIrB,KAAA,QAAKsB,SAAS,CAAC,wBAAwB,CAAAD,QAAA,EAClCd,WAAW,eAAIT,IAAA,MAAGwB,SAAS,CAAC,OAAO,CAAAD,QAAA,CAAEd,WAAW,CAAI,CAAC,CAErDJ,KAAK,cACFH,KAAA,QAAKsB,SAAS,CAAC,cAAc,CAAAD,QAAA,eACzBvB,IAAA,QAAKyB,GAAG,CAAEpB,KAAK,CAACqB,KAAM,CAACC,GAAG,CAAEtB,KAAK,CAACuB,IAAK,CAAE,CAAC,cAC1C1B,KAAA,QAAKsB,SAAS,CAAC,YAAY,CAAAD,QAAA,eACvBvB,IAAA,OAAAuB,QAAA,CAAKlB,KAAK,CAACuB,IAAI,CAAK,CAAC,cACrB5B,IAAA,MAAAuB,QAAA,CAAIlB,KAAK,CAACwB,WAAW,CAAI,CAAC,cAC1B3B,KAAA,MAAAqB,QAAA,EAAG,QAAM,CAAC,GAAI,CAAAO,IAAI,CAACzB,KAAK,CAAC0B,IAAI,CAAC,CAACC,kBAAkB,CAAC,CAAC,EAAI,CAAC,cACxDhC,IAAA,WAAQiC,OAAO,CAAEZ,mBAAoB,CAAAE,QAAA,CAAC,oBAAkB,CAAQ,CAAC,EAChE,CAAC,EACL,CAAC,cAENvB,IAAA,MAAAuB,QAAA,CAAG,iBAAe,CAAG,CACxB,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAApB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}